
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.40. Pulling it together – writing your own programs &#8212; Topics in Bioinformatics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=3ce756a4" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=9bad7206"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'python/how_to_write_a_program';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.42. Miscellaneous Python features" href="misc.html" />
    <link rel="prev" title="5.39. Extending capabilities using import" href="import.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Topics in Bioinformatics</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">1. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Prologue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">3. How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notation.html">4. Notation used throughout</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">5. Introduction to Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="resources.html">5.1. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html">5.2. Introduction to programming using Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html">5.3. Computing environments</a></li>




<li class="toctree-l2"><a class="reference internal" href="variables.html">5.8. Variables and assignment</a></li>

<li class="toctree-l2"><a class="reference internal" href="operators.html">5.10. Operators</a></li>

<li class="toctree-l2"><a class="reference internal" href="types.html">5.12. The basic data types</a></li>

<li class="toctree-l2"><a class="reference internal" href="logic.html">5.14. Logical syntax</a></li>

<li class="toctree-l2"><a class="reference internal" href="interpreting_errors.html">5.16. Fixing errors</a></li>

<li class="toctree-l2"><a class="reference internal" href="functions.html">5.18. Functions and methods</a></li>

<li class="toctree-l2"><a class="reference internal" href="strings.html">5.20. Dealing with strings</a></li>

<li class="toctree-l2"><a class="reference internal" href="dir_help.html">5.22. Getting help</a></li>
<li class="toctree-l2"><a class="reference internal" href="lists.html">5.23. Using lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="dictionaries.html">5.24. Dealing with dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="sets.html">5.25. The <code class="docutils literal notranslate"><span class="pre">set</span></code> data type</a></li>

<li class="toctree-l2"><a class="reference internal" href="indexing.html">5.27. Indexing and Slicing</a></li>

<li class="toctree-l2"><a class="reference internal" href="files.html">5.29. Working with files</a></li>

<li class="toctree-l2"><a class="reference internal" href="iterators.html">5.31. Iterators</a></li>

<li class="toctree-l2"><a class="reference internal" href="writing_functions.html">5.33. Writing functions</a></li>

<li class="toctree-l2"><a class="reference internal" href="namespace.html">5.35. Namespaces</a></li>

<li class="toctree-l2"><a class="reference internal" href="more_looping.html">5.37. More on looping</a></li>

<li class="toctree-l2"><a class="reference internal" href="import.html">5.39. Extending capabilities using <code class="docutils literal notranslate"><span class="pre">import</span></code></a></li>
<li class="toctree-l2 current active"><a class="current reference internal" href="#">5.40. Pulling it together – writing your own programs</a></li>

<li class="toctree-l2"><a class="reference internal" href="misc.html">5.42. Miscellaneous Python features</a></li>
<li class="toctree-l2"><a class="reference internal" href="numpy.html">5.43. <code class="docutils literal notranslate"><span class="pre">numpy</span></code> – numerical routines for python</a></li>

<li class="toctree-l2"><a class="reference internal" href="visualisation.html">5.45. Data Visualisation using Plotly</a></li>

</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../seqcomp/index.html">6. Sequence Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="../molevol/index.html">7. Molecular Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cogent3/index.html">8. Molecular Evolutionary Analyses Using <code class="docutils literal notranslate"><span class="pre">cogent3</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">9. Statistical analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version_control/index.html">10. Introduction to version control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">11. Introduction to Testing in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib/edit/main/python/how_to_write_a_program.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib/issues/new?title=Issue%20on%20page%20%2Fpython/how_to_write_a_program.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/python/how_to_write_a_program.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Pulling it together – writing your own programs</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">5.40. Pulling it together – writing your own programs</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#break-the-problem-into-pieces">5.40.1. Break the problem into pieces</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#look-for-patterns">5.40.2. Look for patterns</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.41. Exercises</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="pulling-it-together-writing-your-own-programs">
<h1><span class="section-number">5.40. </span>Pulling it together – writing your own programs<a class="headerlink" href="#pulling-it-together-writing-your-own-programs" title="Link to this heading">#</a></h1>
<section id="break-the-problem-into-pieces">
<h2><span class="section-number">5.40.1. </span>Break the problem into pieces<a class="headerlink" href="#break-the-problem-into-pieces" title="Link to this heading">#</a></h2>
<p>While it can seem daunting, the key to writing a program is to break the problem into smaller pieces and solve those individually. How do I recognise what to work on first, how can I decide what a piece is? I suggest thinking in terms of order of operations. To illustrate these steps let’s look at a simple equation.</p>
<div class="math notranslate nohighlight">
\[x=b+\sqrt{b^2 + 4ac}\]</div>
<p>Here’s a listing of the parts:</p>
<ol class="arabic">
<li><p><span class="math notranslate nohighlight">\(b\)</span></p></li>
<li><p>the <span class="math notranslate nohighlight">\(\sqrt{~}\)</span>, which contains</p>
<blockquote>
<div><p>2.1. <span class="math notranslate nohighlight">\(b^2\)</span>, which is</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(b\times b\)</span></p>
</div></blockquote>
<p>2.2. <span class="math notranslate nohighlight">\(4ac\)</span>, which is</p>
<blockquote>
<div><p><span class="math notranslate nohighlight">\(4\times a \times c\)</span></p>
</div></blockquote>
</div></blockquote>
</li>
</ol>
<p>To actually solve this problem requires we work from the inside (the most indented bullet points) towards the outside (the least indented bullet points). So let’s do this thing!</p>
<p>I’m going to rewrite the bullet list, defining the names of python variables I will use for each level.</p>
<ol class="arabic">
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code> (well that was easy!)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sqrt_term</span></code></p>
<blockquote>
<div><p>2.1. <code class="docutils literal notranslate"><span class="pre">b_sq</span></code></p>
<p>2.2. <code class="docutils literal notranslate"><span class="pre">four_ac</span></code></p>
</div></blockquote>
</li>
</ol>
<p>The first thing we have to do is define the variables we will use before we actually use them. We will just give them some starting numerical values (we know they have to be numbers because maths!) <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>Let’s also make our life easy by defining only positive numerical values so we don’t have to worry about handling the <span class="math notranslate nohighlight">\(\sqrt{~}\)</span> of a negative number.</p>
</aside>
</aside>
</aside>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">a</span> <span class="o">=</span> <span class="mf">1.1</span>
<span class="n">c</span> <span class="o">=</span> <span class="mi">32</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>That actually defines <code class="docutils literal notranslate"><span class="pre">b</span></code> (1.), so the first of our parts is solved. Now let’s solve go to the inner most pieces and define <code class="docutils literal notranslate"><span class="pre">b_sq</span></code> (2.1).</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">b_sq</span> <span class="o">=</span> <span class="n">b</span> <span class="o">*</span> <span class="n">b</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Then <code class="docutils literal notranslate"><span class="pre">four_ac</span></code> (2.2).</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">four_ac</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Now we can compute <code class="docutils literal notranslate"><span class="pre">sqrt_term</span></code> (2.).</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">sqrt</span>

<span class="n">sqrt_term</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="n">b_sq</span> <span class="o">+</span> <span class="n">four_ac</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>and the final solution (<code class="docutils literal notranslate"><span class="pre">x</span></code>)</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="n">sqrt_term</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>17.876334882255897
</pre></div>
</div>
</div>
</div>
<p>We can, of course, write this as a single statement.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">a</span> <span class="o">*</span> <span class="n">c</span><span class="p">)</span> <span class="o">**</span> <span class="mf">0.5</span>
<span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>17.876334882255897
</pre></div>
</div>
</div>
</div>
<p>Now this is a simple problem. For more challenging problems, as discussed below, breaking problems into pieces and making sure each piece works is a more successful strategy.</p>
</section>
<section id="look-for-patterns">
<h2><span class="section-number">5.40.2. </span>Look for patterns<a class="headerlink" href="#look-for-patterns" title="Link to this heading">#</a></h2>
<p>Part of what we have just done is to look at the “problem” (execute an equation) and recognised patterns in it (based on mathematical order of operations). That approach also applies to more complicated challenges.</p>
<p>Let’s say we want to read in a plain text file which contains a header column followed by rows of numbers where fields are delimited by the tab character. Here is the first few lines of just such a file.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">length</span>      <span class="n">kappa</span>
<span class="mf">0.017963959082536105</span>        <span class="mf">8.567983199899585</span>
<span class="mf">0.036913880515213056</span>        <span class="mf">7.658395694530731</span>
</pre></div>
</div>
<p>Algorithmically, the top level problems are:</p>
<ol class="arabic">
<li><p>Open the file (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>)</p></li>
<li><p>Read the file line by line  (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>)</p>
<blockquote>
<div><p>2.1. Transform each line into usable data</p>
</div></blockquote>
</li>
</ol>
<p>That last point is the inner most, so we focus our attention on the challenge of transforming lines. We look at the sample of the file to we identify any patterns and notice 2 features. The first is that all lines have the same number of fields (separated by <code class="docutils literal notranslate"><span class="pre">\t</span></code>). The second is that the header row is different in that the values are not numbers. We now modify the enumeration to give some more detail.</p>
<ol class="arabic">
<li><p>Open the file (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>)</p></li>
<li><p>Read the first line in the file</p>
<blockquote>
<div><p>2.1. Split the line into fields</p>
</div></blockquote>
</li>
<li><p>Read the remaining lines in the file (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>)</p>
<blockquote>
<div><p>3.1. Split a line into fields</p>
<blockquote>
<div><p>3.1.1. Convert the line items into <code class="docutils literal notranslate"><span class="pre">float</span></code>’s</p>
</div></blockquote>
</div></blockquote>
</li>
<li><p>Close the file (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>)</p></li>
</ol>
<p>So I suggest the place to start is 3.1.1. I’m going to write separate functions for each of these steps. The reason being that it allows us to reuse code <a class="footnote-reference brackets" href="#id4" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a>, makes checking the code correctness easier and simplifies building more complex algorithms into being just the inclusion of already written functions.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id4" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>Important here since 2.1 and 3.1 are the same. Using a function means we only have to write it once and we can use it as many times as seems appropriate.</p>
</aside>
</aside>
</aside>
<p>We start this program with a function that takes a list of strings where every value needs to be converted into a <code class="docutils literal notranslate"><span class="pre">float</span></code>. I’m going to write it and test it, using an <code class="docutils literal notranslate"><span class="pre">assert</span></code>, with some sample data.</p>
<div class="jupyter_cell jupyter_container docutils container" id="index-0">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cast_to_floats</span><span class="p">(</span><span class="n">values</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;turns a series of strings into floats&quot;&quot;&quot;</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">value</span> <span class="ow">in</span> <span class="n">values</span><span class="p">:</span>
        <span class="n">value</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="n">sample</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;24.3&quot;</span><span class="p">,</span> <span class="s2">&quot;13.5&quot;</span><span class="p">]</span>
<span class="n">got</span> <span class="o">=</span> <span class="n">cast_to_floats</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">got</span> <span class="o">==</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">24.3</span><span class="p">,</span> <span class="mf">13.5</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Yay! So that’s 3.1.1 out of the way. The next step out is solve 3.1. We also do this by writing a separate function that we check using some synthetic data and make sure it gives us the result we expect.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">line_to_fields</span><span class="p">(</span><span class="n">line</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;splits at \t and cleans up the elements&quot;&quot;&quot;</span>
    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="c1"># I think we should remove any leading / trailing white space from elements</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">item</span><span class="o">.</span><span class="n">strip</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="c1"># this sample is \t delimited with a \n character at the end</span>
<span class="c1"># just as it would be if read from a file</span>
<span class="n">sample</span> <span class="o">=</span> <span class="s2">&quot;0.0</span><span class="se">\t</span><span class="s2">24.3</span><span class="se">\t</span><span class="s2">13.5</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="n">got</span> <span class="o">=</span> <span class="n">line_to_fields</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span>
<span class="k">assert</span> <span class="n">got</span> <span class="o">==</span> <span class="p">[</span><span class="s2">&quot;0.0&quot;</span><span class="p">,</span> <span class="s2">&quot;24.3&quot;</span><span class="p">,</span> <span class="s2">&quot;13.5&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Double Yay! That’s 3.1 (and thus 2.1) out of the way <a class="footnote-reference brackets" href="#id6" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">3</a><span class="fn-bracket">]</span></span>
<p>Also note this code will work if a line has 1 field, or 1 million fields.</p>
</aside>
</aside>
</aside>
<p>Returning to the task list, we remove the steps we’ve already done, making it simpler to see what remains.</p>
<ol class="arabic simple">
<li><p>Open the file</p></li>
<li><p>Read the first line in the file</p></li>
<li><p>Read the remaining lines in the file</p></li>
<li><p>Close the file</p></li>
</ol>
<p>The first and last are easy (see <a class="reference internal" href="files.html#files"><span class="std std-ref">Working with files</span></a>). The remaining tasks (listed in the Exercise below) need to be solved before these 4 steps can all be combined into a single function. That function should use the <code class="docutils literal notranslate"><span class="pre">line_to_fields()</span></code> and <code class="docutils literal notranslate"><span class="pre">cast_to_floats()</span></code> functions that we have already written. At which point, job well done!</p>
</section>
</section>
<section id="exercises">
<h1><span class="section-number">5.41. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h1>
<ol class="arabic simple">
<li><p>Using any text file, identify how to read just the first line.</p></li>
<li><p>Identify how to loop over all the lines in a file.</p></li>
<li><p>Identify how you can keep all the results of converting lines into floats.</p></li>
<li><p>Write a function <code class="docutils literal notranslate"><span class="pre">parser()</span></code> that completes the algorithm. You can apply it to the sample data you make up that looks like the above, or use <a class="reference download internal" download="" href="../_downloads/6aba6da96b4efaab82be88ae7a8d8285/numbers.tsv"><code class="xref download docutils literal notranslate"><span class="pre">this</span> <span class="pre">file</span></code></a>.</p></li>
</ol>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="import.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5.39. </span>Extending capabilities using <code class="docutils literal notranslate"><span class="pre">import</span></code></p>
      </div>
    </a>
    <a class="right-next"
       href="misc.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5.42. </span>Miscellaneous Python features</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">5.40. Pulling it together – writing your own programs</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#break-the-problem-into-pieces">5.40.1. Break the problem into pieces</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#look-for-patterns">5.40.2. Look for patterns</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.41. Exercises</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gavin Huttley
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020-2024, Gavin Huttley.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>