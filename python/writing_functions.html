
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.33. Writing functions &#8212; Topics in Bioinformatics</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/jupyter-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="../_static/thebelab.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=3ce756a4" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=f1ef3101"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/thebelab-helper.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'python/writing_functions';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.35. Namespaces" href="namespace.html" />
    <link rel="prev" title="5.31. Iterators" href="iterators.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Topics in Bioinformatics</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../acknowledgements.html">1. Acknowledgements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../intro.html">2. Prologue</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">3. How to Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notation.html">4. Notation used throughout</a></li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="index.html">5. Introduction to Python</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="resources.html">5.1. Resources</a></li>
<li class="toctree-l2"><a class="reference internal" href="intro.html">5.2. Introduction to programming using Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="start.html">5.3. Computing environments</a></li>




<li class="toctree-l2"><a class="reference internal" href="variables.html">5.8. Variables and assignment</a></li>

<li class="toctree-l2"><a class="reference internal" href="operators.html">5.10. Operators</a></li>

<li class="toctree-l2"><a class="reference internal" href="types.html">5.12. The basic data types</a></li>

<li class="toctree-l2"><a class="reference internal" href="logic.html">5.14. Logical syntax</a></li>

<li class="toctree-l2"><a class="reference internal" href="interpreting_errors.html">5.16. Fixing errors</a></li>

<li class="toctree-l2"><a class="reference internal" href="functions.html">5.18. Functions and methods</a></li>

<li class="toctree-l2"><a class="reference internal" href="strings.html">5.20. Dealing with strings</a></li>

<li class="toctree-l2"><a class="reference internal" href="dir_help.html">5.22. Getting help</a></li>
<li class="toctree-l2"><a class="reference internal" href="lists.html">5.23. Using lists</a></li>
<li class="toctree-l2"><a class="reference internal" href="dictionaries.html">5.24. Dealing with dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="sets.html">5.25. The <code class="docutils literal notranslate"><span class="pre">set</span></code> data type</a></li>

<li class="toctree-l2"><a class="reference internal" href="indexing.html">5.27. Indexing and Slicing</a></li>

<li class="toctree-l2"><a class="reference internal" href="files.html">5.29. Working with files</a></li>

<li class="toctree-l2"><a class="reference internal" href="iterators.html">5.31. Iterators</a></li>

<li class="toctree-l2 current active"><a class="current reference internal" href="#">5.33. Writing functions</a></li>

<li class="toctree-l2"><a class="reference internal" href="namespace.html">5.35. Namespaces</a></li>

<li class="toctree-l2"><a class="reference internal" href="more_looping.html">5.37. More on looping</a></li>

<li class="toctree-l2"><a class="reference internal" href="import.html">5.39. Extending capabilities using <code class="docutils literal notranslate"><span class="pre">import</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="how_to_write_a_program.html">5.40. Pulling it together – writing your own programs</a></li>

<li class="toctree-l2"><a class="reference internal" href="misc.html">5.42. Miscellaneous Python features</a></li>
<li class="toctree-l2"><a class="reference internal" href="numpy.html">5.43. <code class="docutils literal notranslate"><span class="pre">numpy</span></code> – numerical routines for python</a></li>

<li class="toctree-l2"><a class="reference internal" href="visualisation.html">5.45. Data Visualisation using Plotly</a></li>

</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../seqcomp/index.html">6. Sequence Comparison</a></li>
<li class="toctree-l1"><a class="reference internal" href="../molevol/index.html">7. Molecular Evolution</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cogent3/index.html">8. Molecular Evolutionary Analyses Using <code class="docutils literal notranslate"><span class="pre">cogent3</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../statistics/index.html">9. Statistical analysis</a></li>
<li class="toctree-l1"><a class="reference internal" href="../version_control/index.html">10. Introduction to version control</a></li>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">11. Introduction to Testing in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib/edit/main/python/writing_functions.rst" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/GavinHuttley/tib/issues/new?title=Issue%20on%20page%20%2Fpython/writing_functions.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/python/writing_functions.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Writing functions</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">5.33. Writing functions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-critical-syntax-elements">5.33.1. The critical syntax elements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#void-functions">5.33.2. Void functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fruitful-functions">5.33.3. Fruitful functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-arguments">5.33.4. Required arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-arguments">5.33.5. Optional arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-and-using-functions-that-have-optional-arguments">5.33.6. Writing and using functions that have optional arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordering-arguments">5.33.7. Ordering arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-advanced-design-pattern-putting-constraints-on-how-your-functions-are-used">5.33.8. An advanced design pattern: Putting constraints on how your functions are used</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documenting-a-function-with-a-doctstring">5.33.9. Documenting a function with a doctstring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions-that-call-other-functions">5.33.10. Functions that call other functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#things-not-to-do">5.33.11. Things not to do!</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.34. Exercises</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <aside class="margin sidebar">
<p class="sidebar-title">Tips for writing functions and staying sane</p>
<p>This is such an important message, I’m saying it multiple times on this page.</p>
<p>Here are two ways to write functions that are guaranteed to create headaches.</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Pass in function parameters that are mutable data types AND modify them within the function.</p></li>
<li><p>Use variables that are defined outside the function.</p></li>
</ol>
</div></blockquote>
<p>What are the alternatives?</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Either do not modify input parameters or copy them within the function.</p></li>
<li><p>Pass all the variables your function needs into the function.</p></li>
</ol>
</div></blockquote>
<p>Of course, if you love errors and hard to debug problems go ahead and ignore this advice.</p>
</aside>
<section id="writing-functions">
<h1><span class="section-number">5.33. </span>Writing functions<a class="headerlink" href="#writing-functions" title="Link to this heading">#</a></h1>
<p>Now we cover writing your own <a class="reference external" href="http://greenteapress.com/thinkpython2/html/thinkpython2004.html#sec30">functions</a>.</p>
<p>A function represents a named grouping of statements. They form a critical aspect of modular design to algorithms. By allowing referencing of a related block of code, one can substantially reduce redundancy in your code. This confers a number of major advantages:</p>
<ol class="arabic simple">
<li><p>It makes the code easier to read</p></li>
<li><p>Checking the correctness of a smaller block of code is easier</p></li>
<li><p>Errors only need to be fixed in one place</p></li>
<li><p>It allows building large, complicated programs from a small collection of tested sections.</p></li>
</ol>
<p>So using functions will improve the reliability of your programs.</p>
<section id="the-critical-syntax-elements">
<span id="index-0"></span><h2><span class="section-number">5.33.1. </span>The critical syntax elements<a class="headerlink" href="#the-critical-syntax-elements" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">def</span></code>, the critical keyword telling Python you are defining a function</p></li>
<li><p>a valid Python name, which is used to reference the function</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">()</span></code>, which flank any arguments that might be a part of the function signature</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">:</span></code>, to indicate completion of the signature</p></li>
<li><p>arguments, required or optional (have a default value)</p></li>
<li><p>body of function must be indented</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">return</span></code>, optional, which is used to specify what the function returns</p></li>
</ul>
<p>The general form of a Python function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">valid_python_name</span><span class="p">(</span><span class="n">arguments</span><span class="p">,</span> <span class="n">optional_argument</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>  <span class="c1"># the function signature line</span>
    <span class="c1"># indented lines of code that are only executed</span>
    <span class="c1"># when this function is called</span>
    <span class="k">return</span>
</pre></div>
</div>
<p>And, of course, functions must be defined before they are used!</p>
<p>The following is a valid, but not particularly useful, function. As the function definition does not include any arguments, the function is invoked by simply using its name and the standard call syntax <code class="docutils literal notranslate"><span class="pre">&quot;()&quot;</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">echo_hello</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello! Hello!&quot;</span><span class="p">)</span>

<span class="n">echo_hello</span><span class="p">()</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By convention, functions are put at the top of script files. The convention is motivated by the desire to make the code easy to read.</p>
</div>
</section>
<section id="void-functions">
<span id="index-1"></span><h2><span class="section-number">5.33.2. </span>Void functions<a class="headerlink" href="#void-functions" title="Link to this heading">#</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">echo_hello</span></code> function is called a <code class="docutils literal notranslate"><span class="pre">void</span></code> function – functions whose purpose does not require returning a value. That said, even if they don’t use a <code class="docutils literal notranslate"><span class="pre">return</span></code> statement, they return the value <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</section>
<section id="fruitful-functions">
<h2><span class="section-number">5.33.3. </span>Fruitful functions<a class="headerlink" href="#fruitful-functions" title="Link to this heading">#</a></h2>
<p>These are functions that return something from their execution. We have encountered several examples of fruitful builtin functions like <code class="docutils literal notranslate"><span class="pre">dir()</span></code>, <code class="docutils literal notranslate"><span class="pre">int()</span></code>. These functions took an argument, operated on it, and returned something. The following is a simple fruitful function.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_diff</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">diff</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">get_diff</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-2
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The function was defined before it was used. There were multiple arguments separated by a <code class="docutils literal notranslate"><span class="pre">&quot;,&quot;</span></code>. We used the <code class="docutils literal notranslate"><span class="pre">return</span></code> keyword to deliver the result of this calculation to the calling code (line starting with <code class="docutils literal notranslate"><span class="pre">result</span> <span class="pre">=...</span></code>).</p>
</div>
</section>
<section id="required-arguments">
<span id="index-2"></span><h2><span class="section-number">5.33.4. </span>Required arguments<a class="headerlink" href="#required-arguments" title="Link to this heading">#</a></h2>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_diff</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">diff</span>

<span class="n">get_diff</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-2
</pre></div>
</div>
</div>
</div>
<p>When calling a function, the order in which you provide arguments defines what variable they’re assigned to. One exception to this is if you specify the arguments as <code class="docutils literal notranslate"><span class="pre">argument=value</span></code> (key-value arguments).</p>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-0">
Correct Invocation</label><div class="sd-tab-content docutils">
<p>Both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are required.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_diff</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>2
</pre></div>
</div>
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_diff</span><span class="p">(</span><span class="n">b</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-2
</pre></div>
</div>
</div>
</div>
</div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Incorrect Invocation</label><div class="sd-tab-content docutils">
<p>If you don’t provide both arguments you will get an <em>exception</em>, in this case a <code class="docutils literal notranslate"><span class="pre">TypeError</span></code>.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_diff</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">5</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="n">get_diff</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

<span class="ne">TypeError</span>: get_diff() missing 1 required positional argument: &#39;b&#39;
</pre></div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="optional-arguments">
<span id="index-3"></span><h2><span class="section-number">5.33.5. </span>Optional arguments<a class="headerlink" href="#optional-arguments" title="Link to this heading">#</a></h2>
<p>These are function arguments that have default values. You’ve seen this with the <code class="docutils literal notranslate"><span class="pre">open()</span></code> function. The <code class="docutils literal notranslate"><span class="pre">mode</span></code> argument defaults to read (<code class="docutils literal notranslate"><span class="pre">&quot;r&quot;</span></code>). In fact, the <code class="docutils literal notranslate"><span class="pre">open()</span></code> function has both required and optional arguments.</p>
</section>
<section id="writing-and-using-functions-that-have-optional-arguments">
<h2><span class="section-number">5.33.6. </span>Writing and using functions that have optional arguments<a class="headerlink" href="#writing-and-using-functions-that-have-optional-arguments" title="Link to this heading">#</a></h2>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_diff</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="k">if</span> <span class="n">absolute</span> <span class="ow">and</span> <span class="n">diff</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>  <span class="c1"># both absolute AND (diff &lt; 0) must be True</span>
        <span class="n">diff</span> <span class="o">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">diff</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">diff</span>

<span class="c1"># using default value for absolute</span>
<span class="n">get_diff</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-10
</pre></div>
</div>
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># setting value for absolute</span>
<span class="n">get_diff</span><span class="p">(</span><span class="o">-</span><span class="mi">4</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>10
</pre></div>
</div>
</div>
</div>
</section>
<section id="ordering-arguments">
<h2><span class="section-number">5.33.7. </span>Ordering arguments<a class="headerlink" href="#ordering-arguments" title="Link to this heading">#</a></h2>
<p>Required arguments MUST occur before optional arguments. This constraint holds for both writing your own functions and for using functions.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">get_diff</span><span class="p">(</span><span class="n">absolute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">8</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="n">get_diff</span><span class="p">(</span><span class="n">absolute</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.5</span><span class="p">)</span>
                                     <span class="o">^</span>
<span class="ne">SyntaxError</span>: positional argument follows keyword argument
</pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>There is an exception for calling a function. A function call where all arguments are expressly named will work even if optional arguments are not last, e.g. <code class="docutils literal notranslate"><span class="pre">get_diff(absolute=True,</span> <span class="pre">a=-4,</span> <span class="pre">b=6)</span></code>.</p>
</div>
</section>
<section id="an-advanced-design-pattern-putting-constraints-on-how-your-functions-are-used">
<span id="index-4"></span><h2><span class="section-number">5.33.8. </span>An advanced design pattern: Putting constraints on how your functions are used<a class="headerlink" href="#an-advanced-design-pattern-putting-constraints-on-how-your-functions-are-used" title="Link to this heading">#</a></h2>
<p>You can force your users to employ the key-value invocation, as illustrated by the following.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_diff</span><span class="p">(</span><span class="o">*</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>  <span class="c1"># note the * character</span>
    <span class="n">diff</span> <span class="o">=</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="k">return</span> <span class="n">diff</span>

<span class="n">get_diff</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">6</span><span class="p">)</span>  <span class="c1"># users now must use argument=value, otherwise there&#39;s an error</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>-2
</pre></div>
</div>
</div>
</div>
<p>The reason for this is it forces your users to check the parameters of your function when they call it, increasing the chance they use it correctly! It also makes their code easier to read.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a “for your information” entry only.</p>
</div>
</section>
<section id="documenting-a-function-with-a-doctstring">
<h2><span class="section-number">5.33.9. </span>Documenting a function with a doctstring<a class="headerlink" href="#documenting-a-function-with-a-doctstring" title="Link to this heading">#</a></h2>
<p>We can document how to use a function we write by writing a docstring. When you use <code class="docutils literal notranslate"><span class="pre">help()</span></code> on a built in function, it’s the docstring of that function which is being displayed. The syntactic definition of a docstring is:</p>
<ul class="simple">
<li><p>They are a string literal. By convention, they are defined using triple quotes surrounding the text. They can span multiple lines.</p></li>
<li><p>They are the first statement after the function signature.</p></li>
</ul>
<p id="index-5">The following illustrates the form of a docstring with a simple function with no contents other than the docstring <a class="footnote-reference brackets" href="#id2" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a>.</p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id2" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p>The Python <code class="docutils literal notranslate"><span class="pre">pass</span></code> statement is a null (“do-nothing”) operation. It’s used as a placeholder when the language requires a syntactic element.</p>
</aside>
</aside>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunc</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;a do nothing demo</span>

<span class="sd">    multi-line docs</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">pass</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">help</span><span class="p">(</span><span class="n">myfunc</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-none notranslate"><div class="highlight"><pre><span></span>Help on function myfunc in module __main__:

myfunc()
    a do nothing demo
    
    multi-line docs

</pre></div>
</div>
</div>
</div>
</section>
<section id="functions-that-call-other-functions">
<h2><span class="section-number">5.33.10. </span>Functions that call other functions<a class="headerlink" href="#functions-that-call-other-functions" title="Link to this heading">#</a></h2>
<p>There is no magic here. If you can use a Python built-in function, you can use a function you wrote. In the following, the function <code class="docutils literal notranslate"><span class="pre">squared_diffs()</span></code> takes two number series and returns the square of the element-wise difference while the function  <code class="docutils literal notranslate"><span class="pre">diff_two()</span></code> takes two number series and returns their element-wise difference.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">diff_two</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">a</span><span class="p">)):</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">squared_diffs</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
    <span class="n">diffs</span> <span class="o">=</span> <span class="n">diff_two</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">)</span>  <span class="c1"># calling diff_two which is defined above</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">v</span> <span class="o">**</span> <span class="mi">2</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">diffs</span><span class="p">]</span>


<span class="n">squared_diffs</span><span class="p">([</span><span class="mi">93</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">47</span><span class="p">,</span> <span class="mi">82</span><span class="p">],</span> <span class="p">[</span><span class="mi">59</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">66</span><span class="p">,</span> <span class="mi">82</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>[1156, 196, 361, 0]
</pre></div>
</div>
</div>
</div>
</section>
<section id="things-not-to-do">
<h2><span class="section-number">5.33.11. </span>Things not to do!<a class="headerlink" href="#things-not-to-do" title="Link to this heading">#</a></h2>
<p><strong>DO NOT</strong> use global variables (see <a class="reference internal" href="namespace.html#namespaces"><span class="std std-ref">Namespaces</span></a>). Either pass the variable in as an argument or create it within the function. Adhere to the principle of making code “Easy To Change”. In the case of functions, this means making them depend only on the arguments you give them. The following is bad.</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>

<span class="k">def</span> <span class="nf">myfunc1</span><span class="p">(</span><span class="n">arg</span><span class="p">):</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="n">myfunc1</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">myfunc1</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="n">result</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>[4, 4]
</pre></div>
</div>
</div>
</div>
<p>As I show in that code snippet, each call to <code class="docutils literal notranslate"><span class="pre">myfunc1()</span></code> modifies the module level variable <code class="docutils literal notranslate"><span class="pre">result</span></code> because it is a mutable type. So <code class="docutils literal notranslate"><span class="pre">result</span></code> records all such calls! If you really need a list inside that function, define it within the function or pass it in as an argument. But see the next point.</p>
<p><strong>DO NOT</strong> define the default value of an optional variable to be a mutable data type. Here’s an example</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunc2</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="p">[]):</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">myfunc2</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">myfunc2</span><span class="p">(</span><span class="mi">90</span><span class="p">)</span>
<span class="n">r</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>[20, 90]
</pre></div>
</div>
</div>
</div>
<p>Same behaviour as the previous example because that definition of <code class="docutils literal notranslate"><span class="pre">result</span></code> is actually happening at the module level, even if it’s in a function signature! However many times you call <code class="docutils literal notranslate"><span class="pre">myfunc2()</span></code> is how many elements will be in the returned list. This effect holds for any mutable data type. Here’s a better approach.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">myfunc3</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">result</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="ow">or</span> <span class="p">[]</span>
    <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
<p><strong>DO NOT</strong> modify an input data structure unless your docstring (or the name of your function) states clearly that’s what it will do. Copying can be expensive in terms of speed and memory, but unexpected changes in state of some data can cause hard to debug problems and so be more expensive in terms of programmer time. This is why it’s a good idea to put important data into data types that are immutable (e.g. pick a <code class="docutils literal notranslate"><span class="pre">tuple</span></code> over a <code class="docutils literal notranslate"><span class="pre">list</span></code> for instance) or at least harder to change.</p>
<blockquote class="epigraph">
<div><p>A Foolish Consistency is the Hobgoblin of Little Minds</p>
<p class="attribution">—Ralph Waldo Emerson, Self-reliance, 1841</p>
</div></blockquote>
<p>That quote applies to the above remarks, make exceptions to those thoughtfully. Except for mutable data types as default values – never do that unless you love hard to debug problems and misery.</p>
</section>
</section>
<section id="exercises">
<h1><span class="section-number">5.34. </span>Exercises<a class="headerlink" href="#exercises" title="Link to this heading">#</a></h1>
<p>Using the following data</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="s2">&quot; [ 0.2 0.1 0.3 0.4 0.0 ] &quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<ol class="arabic">
<li><p>Write a function called <code class="docutils literal notranslate"><span class="pre">cast_to_floats()</span></code> that takes a single string (as per <code class="docutils literal notranslate"><span class="pre">data</span></code>) and converts it into a list of floats. Apply this function to <code class="docutils literal notranslate"><span class="pre">data</span></code>.</p></li>
<li><p>Write a function called <code class="docutils literal notranslate"><span class="pre">normalised_freqs()</span></code> that takes a series of frequencies (each value is 0 &lt; val &lt; 1 and the series sums to 1) and has an optional argument <code class="docutils literal notranslate"><span class="pre">add_to_all</span></code> (with a default value of 0). The function adds <code class="docutils literal notranslate"><span class="pre">add_to_all</span></code> <a class="footnote-reference brackets" href="#id5" id="id3" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a> to every frequency.</p>
<blockquote>
<div><p>Add some assert statements to your function to check input values are valid (e.g. all values are <code class="docutils literal notranslate"><span class="pre">0&lt;=freq&lt;1</span></code>).</p>
<p>Use an assert to check the result satisfies the following, all numbers sum to 1.0 (within numerical precision) and all values satisfy <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;</span> <span class="pre">v</span> <span class="pre">&lt;</span> <span class="pre">1</span></code>.</p>
<p>For example, with the following input values</p>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">freqs</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mf">0.6</span><span class="p">]</span>
<span class="n">add_to_all</span><span class="o">=</span><span class="mf">0.0001</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
</div>
</div>
<p>Your function should return</p>
<div class="jupyter_cell docutils container">
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>[0.10005997600959618,
 9.996001599360257e-05,
 0.29998000799680125,
 0.5998600559776089]
</pre></div>
</div>
</div>
</div>
<p>But if, for example, <code class="docutils literal notranslate"><span class="pre">add_to_all</span> <span class="pre">&lt;</span> <span class="pre">0</span></code> your function generates an exception.</p>
</div></blockquote>
</li>
<li><p>Write another function, <code class="docutils literal notranslate"><span class="pre">str_to_normalised()</span></code> that takes the same input of <code class="docutils literal notranslate"><span class="pre">cast_to_floats()</span></code> and also has an optional argument for <code class="docutils literal notranslate"><span class="pre">add_to_all</span></code>. This function should first call <code class="docutils literal notranslate"><span class="pre">cast_to_floats()</span></code> to get the floats. Then call <code class="docutils literal notranslate"><span class="pre">normalised_freqs()</span></code> with that result to get the final normalised series. <code class="docutils literal notranslate"><span class="pre">str_to_normalised()</span></code> then returns this value.</p></li>
<li><p>Implement the <code class="docutils literal notranslate"><span class="pre">myfunc2()</span></code> variant from above. Then try using differemt mutable data type as the default value. Demonstrate the bad side effect of persistent state with subsequent calls to <code class="docutils literal notranslate"><span class="pre">myfunc2()</span></code>. Make those calls without providing a value to <code class="docutils literal notranslate"><span class="pre">result</span></code>. Show that the <code class="docutils literal notranslate"><span class="pre">myfunc3()</span></code> does not have this problem.</p></li>
<li><p>For function <code class="docutils literal notranslate"><span class="pre">count_CGs()</span></code> defined below. Prove it is incorrect using an <code class="docutils literal notranslate"><span class="pre">assert</span></code> statement <a class="footnote-reference brackets" href="#id7" id="id4" role="doc-noteref"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></a>. Rewrite the function so it is correct.</p>
<blockquote>
<div><div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">count_CGs</span><span class="p">(</span><span class="n">seq</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;return the total number of C and G in a Seq&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">Seq</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;C&quot;</span><span class="p">)</span> <span class="o">+</span> <span class="n">Seq</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s2">&quot;G&quot;</span><span class="p">)</span>

<span class="n">Seq</span> <span class="o">=</span> <span class="s2">&quot;ACGCCAGTGCATTACG&quot;</span>
<span class="n">count_CGs</span><span class="p">(</span><span class="n">Seq</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>9
</pre></div>
</div>
</div>
</div>
<div class="jupyter_cell jupyter_container docutils container">
<div class="cell_input code_cell docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">count_CGs</span><span class="p">(</span><span class="s2">&quot;ACGTTAATATTATTTTA&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-none notranslate"><div class="highlight"><pre><span></span>9
</pre></div>
</div>
</div>
</div>
</div></blockquote>
</li>
</ol>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id5" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id3">2</a><span class="fn-bracket">]</span></span>
<p>This type of adjustment to avoid zeros is used to avoid numerical errors.</p>
</aside>
</aside>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id4">3</a><span class="fn-bracket">]</span></span>
<p>What this means is that you state an expected value for the function given your input. If the code is incorrect, the function returned value will not equal your expected value thus triggering your assertion statement, resulting in an error. In other words, if the code is wrong you WANT there to be an error.</p>
</aside>
</aside>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="iterators.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5.31. </span>Iterators</p>
      </div>
    </a>
    <a class="right-next"
       href="namespace.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">5.35. </span>Namespaces</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">5.33. Writing functions</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#the-critical-syntax-elements">5.33.1. The critical syntax elements</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#void-functions">5.33.2. Void functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#fruitful-functions">5.33.3. Fruitful functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#required-arguments">5.33.4. Required arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#optional-arguments">5.33.5. Optional arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#writing-and-using-functions-that-have-optional-arguments">5.33.6. Writing and using functions that have optional arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ordering-arguments">5.33.7. Ordering arguments</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#an-advanced-design-pattern-putting-constraints-on-how-your-functions-are-used">5.33.8. An advanced design pattern: Putting constraints on how your functions are used</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#documenting-a-function-with-a-doctstring">5.33.9. Documenting a function with a doctstring</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions-that-call-other-functions">5.33.10. Functions that call other functions</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#things-not-to-do">5.33.11. Things not to do!</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#exercises">5.34. Exercises</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Gavin Huttley
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2020-2024, Gavin Huttley.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>